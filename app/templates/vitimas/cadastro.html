
{% extends 'home/base.html' %}
{% load static %}


{% block content %}
     
      <div class="content-wrapper" style="min-height: 666px;">
   
         <section class="content-header">
            <h1>
               Cadastro de Vítimas			
            </h1>
            <ol class="breadcrumb">
               <li><a href="{% url 'home' %}"><i class="fa fa-home"></i> Home</a></li>
               <li class="active">Vítimas</li>
            </ol>
         </section>
         <script src="{% static 'base/js/actionPage.js' %}"></script>
         <section class="content" style="overflow-y:auto; height:80vh;">
            <div id="div_content">
               <div style="width: 100%; height: 50vh;">
                  <div class="box box-primary">
                     <div class="box-body">
                        <script src="{% static 'base/js/select2.full.js' %}"></script>
                        <link href="{% static 'base/css/select2.css' %}" rel="stylesheet">
                        <form id="form2" name="form2" method="post" enctype="multipart/form-data" onsubmit="validar()">
                           {% csrf_token %}
                           <input type="hidden" id="foto_anterior" name="foto_anterior" value="">
                           <div class="form-group col-md-1 col-xs-12" id="area_id"><label class="active" for="id">ID: </label>
                              <input readonly="" id="id" name="id" type="text" class="form-control" >
                           </div>
                           <div class="form-group col-md-3 col-xs-12" id="area_nome"><label class="active" for="nome">Nome: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                              {{ form.nome }}
                           </div>

                           <div class="form-group col-md-3 col-xs-12" id="area_data_nascimento"><label class="active" for="data_nascimento">Data de Nascimento: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                              {{ form.data_nascimento }}
                           </div>

                           <div class="form-group col-md-2 col-xs-12" id="area_rg"><label class="active" for="login">RG: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                              {{ form.rg }}
                           </div>


                           <div class="form-group col-md-2 col-xs-12" id="area_cpf"><label class="active" for="login">CPF: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                             {{ form.cpf }}
                           </div>

                           <div class="form-group col-md-3 col-xs-12" id="area_endereco"><label class="active" for="login">Endereço: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                              {{ form.endereco }}
                           </div>

                           <div class="form-group col-md-2 col-xs-12" id="area_telefone"><label class="active" for="login">Telefone: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                              {{ form.telefone }}
                           </div>
                     
                           <div class="form-group col-md-3 col-xs-12" id="area_suspeito"><label class="active" for="nome">Nome do Supeito: <span style="color: #E75428;" title="">*</span><span class="createdTooltip"></span></label>
                              {{ form.suspeito }}
                           </div>

            
                           <div class="file-field form-group col-md-2 col-xs-12" id="area_foto_vitima">
                              <span style="font-size: 90% !important; "><b>Foto da Vitíma</b></span>
                              {{ form.foto_vitima }}
                           </div>

                           <div class="file-field form-group col-md-2 col-xs-12" id="area_foto_vitima">
                              <span style="font-size: 90% !important; "><b>Foto do Suspeito</b></span>
                             {{ form.foto_suspeito }}
                           </div>

                           <div class="form-group col-md-8 col-xs-12" id="area_oservacao"><label class="active" for="nome">Observação: <span class="createdTooltip"></span></label>
                              {{ form.observacao }}
                           </div>
   
   

                           <div class="col-xs-12" style="margin-top:15px"><a class="btn btn-flat btn-sm btn-info" href="{% url 'vitimas' %}">
                              <span class="fa fa-arrow-left"></span> Voltar
                              </a> &nbsp;&nbsp;&nbsp;<button class="btn btn-flat btn-sm btn-success" type="submit">
                              <span class="fa fa-save"></span> Salvar
                              </button>
                           </div>
                           
                        </form>
                        <script>
                           $(function () {
                              $('.datetimepicker').datetimepicker();
                           });
                        </script>
                        <script>
                           $(function () {
                           $(".selectDin").select2();
                           });	
                           setTimeout(function(){$(".selectDin").select2();}, 100);
                        </script>
                        <script>
                           document.addEventListener("DOMContentLoaded", function() {
                              const cpfInput = document.getElementById("cpf");

                              cpfInput.addEventListener("input", function() {
                                 const cpfValue = cpfInput.value.replace(/\D/g, "");
                                 if (cpfValue.length === 11) {
                                       if (validarCPF(cpfValue)) { // Certifique-se de usar o nome correto da função
                                          cpfInput.setCustomValidity(""); // CPF válido
                                       } else {
                                          cpfInput.setCustomValidity("CPF inválido"); // CPF inválido
                                       }
                                 } else {
                                       cpfInput.setCustomValidity("Informe um CPF válido"); // CPF incompleto
                                 }
                              });
                           });
                           </script>
                     </div>
                  </div>
               </div>
            </div>
         </section>
         <div id="online_content"></div>
         <div id="online_content2"></div>
      </div>
{% endblock %}